\chapter{Research Questions}\label{chapter:research_approach}
The thesis is centered around three main research questions, which are presented in the following. These research questions were defined beforehand to guarantee a structured development of the PHM systems. The questions were formulated based on common problems and challenges in the domain adaptation and the PHM community. At the end of this chapter, the research approach followed in this thesis is described.

\section{Influence of the GAMMA Choice on the Domain Adaptation Performance}
Since the source and target domains are correlated to some extent, the network itself can extract domain-independent features. The powerful CNN learned from the source domain can also increase the model performance on the target domain. At the same time, features that are too sensitive to the source domain can reduce the model performance on the target domain \cite{li2020}. To counteract that phenomenon, domain adaptation approaches can help to transfer knowledge learned from the source to the target domain. However, one has to pay attention to not transfer noise or irrelevant information. This destroys the structure of the source and target domain data and makes the classification task even more difficult \cite{li2020}. For this reason, it is essential to balance the MMD- and source CE-loss very precisely by picking an appropriate GAMMA. In this thesis, the effects of different GAMMA choices are investigated.

\section{Domain Adaptation Performance of the Labeled MMD-Loss}
In addition to the MMD-based domain reduction, Pandhare et al. \cite{Pandhare2021} applied a PD alignment module, which specifically reduced the L2-distance between samples belonging to the same class but different domains. The PD alignment required target labels. Li et al. \cite{Li2018} presented a PHM algorithm, which optimized the source domain inter- and intra-class distance while reducing the domain discrepancy with an MMD-loss. The expectation and variance of source domain samples belonging to the same class were used for the distance-based optimization. The goal of both approaches was to improve the compactness and separability of the classes in the latent feature spaces, while reducing the domain discrepancy. This enables a more accurate classification and improves the domain overlap in the latent feature space. A stronger domain similarity facilitates the extraction of domain invariant features. Inspired by those two approaches, a novel labeled MMD-loss was developed in the course of this thesis, which uses target labels to improve the domain adaptation capabilities of the model. Instead of applying a PD alignment in addition to an MMD-loss, this novel MMD-loss directly considers the labels of the source and target domain. As seen in the work of Pandhare et al. \cite{Pandhare2021}, the target labels are not used in the CE-loss. The advantages and disadvantages of the labeled MMD-loss are further analyzed in this thesis.

\section{Influence of the Latent Feature Space Choice on the Domain Adaptation Performance}
Most domain adaptation approaches, just as the one presented by Azamfar et al. \cite{AZAMFAR2020103932} and Pandhare et al. \cite{Pandhare2021}, reduce the domain discrepancy in the task-specific layers but use a shared CNN backbone across all domains. Throughout the neural network, the feature maps extract information with different levels of abstraction. In shallow layers, more global and in deeper layers more task-specific features are extracted \cite{Aljundi2016}. Often, it is assumed that early convolutional layers extract general information and act as simple detectors for things like color or texture. The work of Aljundi et al. \cite{Aljundi2016} shows that the layers of the CNN are responsible for specific characteristics in deeper latent feature space representations and thus the creation of a dataset bias. Since feature maps influence all subsequent ones, propagating the biased data through the neural network facilitates the domain shift. This shows the significant contribution of the CNN layers to the increasing domain shift throughout the neural network. Aljundi et al. \cite{Aljundi2016} suggested the evaluation of the domain shift in convolutional layers and the reconstruction of those which are strongly affected \cite{Aljundi2016}. Li et al. \cite{li2020} assumed that reducing the domain discrepancy in only task-specific layers might minimize but not completely eliminate it. In order to reduce the domain shift, Li et al. \cite{li2020} proposed a model which separately learned to extract domain-dependent and -independent features in the convolutional layers. Inspired by the work of Azamfar et al. \cite{Aljundi2016} and Aljundi et al. \cite{Aljundi2016}, this thesis investigates how applying the MMD loss in the CNN layers can improve the domain discrepancy reduction.

\section{Research Approach}
In this thesis, the ability of domain adaptation approaches to increase the performance of PHM systems is investigated. First, the proposed approaches were pre-evaluated on a dummy dataset and afterward are extensively tested on a real-world dataset. In the research community, simplified synthetically generated datasets are quite common to understand the underlying functionalities and mechanisms of new approaches and to pre-evaluate their applicability for a given task. For the sake of completeness, it is necessary to test these approaches on real-world data. When this has been done correctly, statements about these approaches' robustness and actual benefit can be made. Experiments on the mentioned datasets were performed to investigate the following topics:
\begin{itemize}
    \item  Visualization of how MMD-based domain adaptation affects the latent feature space representations in neural networks.
    \item Evaluation of performance gain of PHM systems when MMD-based domain adaptation is applied
    \item Investigation of the three formulated research questions in the context of MMD-based domain adaptation in industrial health condition monitoring.
\end{itemize}

The datasets, proposed model architecture and corresponding training strategy are described in chapter \ref{sec:experiments}. The results from the experiments are presented in chapter \ref{sec:results}. 
\begin{comment}
\section{Signals used for PHM}
In the work of Pandhare et al. \cite{Pandhare2021} just vibration signals in different spatial directions are measured with sensors, installed at various locations on the BSD. Azamfar et al. \cite{AZAMFAR2020103932} additionally use sound pressure sensors to capture the acoustic level and extract torque and speed signals from the controller. In this thesis also the mechanical power, target electrical power and actual electrical power signals were extracted from the controller. Pandhare et al. and Azamfar et al. record machine data during BSD steady-state motion. In this thesis machine data is collected during different machine excitements (constant speed excitements, direction change excitements and sweep excitement) along the machine tools X-axis. These different signals were evaluated for their suitability for PHM of BSDs


Both Pandhare et al. \cite{Pandhare2021} and Azamfar et al. \cite{AZAMFAR2020103932} feed the data recorded during BSD steady-state motion as one single input to their models. During the phases of constant BSD motion, the amplitude of the signals changess. Azamfar et al. assume that the shorter sequences created by a windowing function just capture limited information about these changes and are therefore not a proper tool for PHM \cite{AZAMFAR2020103932}. In the thesis a windowing function was evaluated for the PHM of BSDs. Windowing functions make the BSD experiments less dependent from specific BSD excitements. When beeing able to check the BSD degradation with short recorded windows, one can make statements about the BSD health status with data redcorded in real time use. Extra experiments 
\end{comment}


